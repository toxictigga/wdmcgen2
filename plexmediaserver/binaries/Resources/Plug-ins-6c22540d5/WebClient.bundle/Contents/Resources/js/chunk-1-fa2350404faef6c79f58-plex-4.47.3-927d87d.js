(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"7qL+":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return V}));var r=a("gcR/"),n=a.n(r),i=a("q1tI"),o=a.n(i),d=a("/MKj"),s=a("ZwMC"),g=a("DcPB"),l=a("zvMH"),A=a("LtpW"),u=a("G4qV");var c=Object(u.a)((function(e){return e.deviceSettings}),e=>e.remotePlayer,(e,t)=>t?t.volume:e.volume),v=a("dz8L"),E=a("//Cn"),m=a("x5Hs"),p=["af","am","ar","ar_eg","ar_sa","eu","be","bn","bg","ca","zh","zh_cn","zh_hk","zh_tw","hr","cs","da","nl","en","en_au","en_ca","en_gb","en_ie","en_in","en_sg","en_za","et","fa","fil","fi","fr","fr_ca","fr_ch","gl","de","de_at","el","gu","he","hi","hu","is","id","it","ja","kn","ko","lo","lv","ln","lt","ms","ml","mr","no","pl","pt","pt_br","pt_pt","ro","ru","sr","sk","sl","es","es_419","es_ar","es_cl","es_co","es_cr","es_do","es_ec","es_sv","es_gt","es_hn","es_mx","es_ni","es_pa","es_pe","es_pr","es_py","es_us","es_uy","es_ve","sw","sv","gsw","tl","ta","te","th","tr","uk","ur","vi","zu"];var w=Object(u.a)(m.a,e=>function(e){var t=e.toLowerCase().replace(/-/g,"_");return p.includes(t)?t:"en"}(e)),f=a("dsvT"),y=a("tRmQ"),{useEffect:O,useState:T}=o.a;var{useEffect:M,useState:b}=o.a;var I=a("PW1X");function h(e){var t=Math.round(e%3600),a=Math.floor(e/3600),r=Math.floor(t/60),n=t%60;return String(a).padStart(2,"0")+":"+String(r).padStart(2,"0")+":"+String(n).padStart(2,"0")+" ("+e+"s)"}function D(e){return t=>{var a=t,r=t;try{var n=null==a.getAdData?void 0:a.getAdData(),i=(null==n?void 0:n.adError)||(null==r.getError?void 0:r.getError());if(i){var o={message:i.getMessage(),errorCode:i.getErrorCode(),vastErrorCode:i.getVastErrorCode()};s.a.error("[IMA SDK] Error: %s from event %s: %o",i.getType(),a.type,o)}else Object(y.a)()&&function(e){var t=null==e.getAd?void 0:e.getAd(),a=null==e.getAdData?void 0:e.getAdData(),r=null==t?void 0:t.getAdPodInfo();if(r)try{var n={adPosition:r.getAdPosition(),isBumper:r.getIsBumper(),maxDuration:r.getMaxDuration(),podIndex:r.getPodIndex(),timeOffset:r.getTimeOffset(),totalAds:r.getTotalAds()};Object(s.a)("[IMA SDK] Event %s (adPodInfo): %o",e.type,n)}catch(e){s.a.warn("[IMA SDK] Cannot log adPodInfo",null==e?void 0:e.message)}if(a&&Object(s.a)("[IMA SDK] Event %s (adData): %o",e.type,a),t)try{var i={adSystem:t.getAdSystem(),advertiserName:t.getAdvertiserName(),apiFramework:t.getApiFramework(),contentType:t.getContentType(),creativeAdId:t.getCreativeAdId(),creativeId:t.getCreativeId(),dealId:t.getDealId(),description:t.getDescription(),duration:t.getDuration(),height:t.getHeight(),mediaUrl:t.getMediaUrl(),minSuggestedDuration:t.getMinSuggestedDuration(),skipTimeOffset:t.getSkipTimeOffset(),surveyUrl:t.getSurveyUrl(),title:t.getTitle(),traffickingParameters:t.getTraffickingParameters(),traffickingParametersString:t.getTraffickingParametersString(),uiElements:t.getUiElements(),universalAdIdRegistry:t.getUniversalAdIdRegistry(),universalAdIdValue:t.getUniversalAdIdValue(),vastMediaHeight:t.getVastMediaHeight(),vastMediaWidth:t.getVastMediaWidth(),width:t.getWidth(),wrapperAdIds:t.getWrapperAdIds(),wrapperAdSystems:t.getWrapperAdSystems(),wrapperCreativeIds:t.getWrapperCreativeIds(),isLinear:t.isLinear()};Object(s.a)("[IMA SDK] Event %s (ad):",e.type,i)}catch(e){s.a.warn("[IMA SDK] Cannot log ad info",null==e?void 0:e.message)}}(a)}catch(e){s.a.warn("[IMA SDK] Event:",null==a?void 0:a.type,null==e?void 0:e.message)}e(t)}}var{useEffect:S,useState:_}=o.a;var{useEffect:j,useRef:L}=o.a;var C=a("Rg7N"),R=a.n(C),P=o.a.createElement,{useCallback:N,useEffect:k,useState:U}=o.a;function V({edgeGutterX:e,edgeGutterY:t,height:a,isFullscreen:r,isIdle:i,isMiniPlayer:o,isStackedAbove:u,placement:m,playerType:p,statusOverlayClassName:C,url:V,width:W,onAdChange:z,onPositionMillisecondsChange:G}){var x=Object(d.c)(),F=U(void 0),K=F[1],B=F[0],H=U(),q=H[1],J=H[0],Q=U(null),X=Q[1],Y=Q[0],[Z,$]=Object(v.a)(),ee=U(l.b),te=ee[1],ae=ee[0],re=U(l.c),ne=re[1],ie=re[0],oe=U(l.d),de=oe[1],se=oe[0],ge=Object(d.d)(Object(E.a)(p,"durationSeconds")),le=Object(d.d)(Object(E.a)(p,"isPaused")),Ae=Object(d.d)(w),ue=Object(d.d)(Object(E.a)(p,"positionSeconds")),ce=Object(d.d)(c),ve=function(e,t,a=!0){var r=L({currentTime:e,duration:t});return j(()=>{a&&e>=0&&(r.current.currentTime=e)},[a,e]),j(()=>{a&&t>=0&&(r.current.duration=t)},[a,t]),r.current}(ue,ge,!i),Ee=function(e,t,a,r){var n=_(),i=n[1],o=n[0];return S(()=>{if(t){var n=D(e=>{var t=e.getError();r(new Error(t.getMessage()))}),o=D(e=>{Object(y.a)()&&Object(s.a)("[IMA] Creating AdsManager"),i(e.getAdsManager(a))}),d=new window.google.ima.AdsRequest;return d.adTagUrl=I.join(e,{vpaid:1}),d.forceNonLinearFullSlot=!0,d.linearAdSlotWidth=1280,d.linearAdSlotHeight=720,d.setAdWillAutoPlay(!0),d.setAdWillPlayMuted(!1),t.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,n),t.addEventListener(window.google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,o),Object(y.a)()&&Object(s.a)("[IMA] Loading ads:",d.adTagUrl),t.requestAds(d),()=>{t.removeEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,n),t.removeEventListener(window.google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,o)}}},[t,a,e,r]),S(()=>{if(o){var e=D(t=>{o.removeEventListener(t.type,e),Object(y.a)()&&Object(s.a)("[IMA] Enabling preloading");var a=new window.google.ima.AdsRenderingSettings;a.enablePreloading=!0,o.updateAdsRenderingSettings(a)});return Object(y.a)()&&Object(s.a)("[IMA] Starting AdsManager"),Object(y.a)()&&Object(s.a)("[IMA] CuePoints:",o.getCuePoints().map(h).join(", ")),o.addEventListener(window.google.ima.AdEvent.Type.LOADED,e),o.init(1280,720,window.google.ima.ViewMode.NORMAL),o.start(),()=>{o.removeEventListener(window.google.ima.AdEvent.Type.LOADED,e),Object(y.a)()&&Object(s.a)("[IMA] Destroying AdsManager"),o.destroy()}}},[o]),o}(V,function(e){var t=b(),a=t[1],r=t[0];return M(()=>{e&&(Object(y.a)()&&Object(s.a)("[IMA] Creating AdsLoader"),a(new window.google.ima.AdsLoader(e)))},[e]),M(()=>()=>{r&&(Object(y.a)()&&Object(s.a)("[IMA] Destroying AdsLoader"),r.destroy())},[r]),r}(function(e){var t=T(),a=t[1],r=t[0];return O(()=>{e&&(Object(y.a)()&&Object(s.a)("[IMA] Creating AdDisplayContainer"),a(new window.google.ima.AdDisplayContainer(e)))},[e]),O(()=>(r&&(Object(y.a)()&&Object(s.a)("[IMA] Initializing AdDisplayContainer"),r.initialize()),()=>{r&&(Object(y.a)()&&Object(s.a)("[IMA] Destroying AdDisplayContainer"),r.destroy())}),[r]),r}(Y)),ve,q),me=N(e=>{X(e)},[]);k(()=>{Object(y.a)()&&Object(s.a)("[IMA] Setting locale",Ae),window.google.ima.settings.setLocale(Ae)},[Ae]),k(()=>{void 0!==B&&(null===B?(te(l.b),ne(l.c),q(void 0),de(l.d)):(te(B.displayIndex),ne(B.displayTotal)),Object(y.a)()&&Object(s.a)("[IMA] Changing ad to",B),z(B))},[B,z]),k(()=>{J&&(s.a.error("[IMA] Error",...function(e){if(function(e){var t=e;return!!(t.getMessage||t.getErrorCode||t.getVastErrorCode)}(e)){var t,a,r,n=e;try{a=n.getMessage()}catch(e){s.a.error("[IMA] error getting message from AdError",e.message)}try{t=n.getErrorCode()}catch(e){s.a.error("[IMA] error getting error code from AdError",e.message)}try{r=n.getVastErrorCode()}catch(e){s.a.error("[IMA] error getting VAST error code from AdError",e.message)}return[a||"Unknown error","(IMA:"+t+", VAST:"+r+")"]}return[e.message]}(J)),null===B?z(null):K(null))},[B,J,z]),k(()=>{null==Ee||Ee.setVolume(ce/100)},[Ee,ce]),k(()=>{null==Ee||Ee.resize($.width||1280,$.height||720,r?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},[Ee,r,$]),k(()=>{le?null==Ee||Ee.pause():null==Ee||Ee.resume()},[Ee,le]),k(()=>{var e=D(e=>{var t,a=e.getAd(),r=null==a?void 0:a.getAdPodInfo();switch(e.type){case window.google.ima.AdEvent.Type.AD_BUFFERING:x(Object(g.N)({playerType:p,isBuffering:!0}));break;case window.google.ima.AdEvent.Type.AD_PROGRESS:x(Object(g.N)({playerType:p,isBuffering:!1})),G(1e3*e.getAdData().currentTime);break;case window.google.ima.AdEvent.Type.ALL_ADS_COMPLETED:case window.google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:K(null);break;case window.google.ima.AdEvent.Type.LOADED:de(null!=(t=null==r?void 0:r.getTimeOffset())?t:-1);break;case window.google.ima.AdEvent.Type.STARTED:le&&(null==Ee||Ee.pause()),K(function(e){if(!e)return null;var t=e.getAdPodInfo();return{clicksThrough:!0,displayIndex:t.getAdPosition(),displayTotal:t.getTotalAds(),duration:e.getDuration(),height:e.getHeight(),mimeType:e.getContentType(),timeOffset:t.getTimeOffset(),width:e.getWidth()}}(a));break;case window.google.ima.AdEvent.Type.LOG:var n=e.getAdData().adError;n&&1009===n.getErrorCode()&&(s.a.warn("[IMA] Manually handling empty VAST"),q(n))}}),t=[window.google.ima.AdEvent.Type.AD_BUFFERING,window.google.ima.AdEvent.Type.AD_PROGRESS,window.google.ima.AdEvent.Type.ALL_ADS_COMPLETED,window.google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,window.google.ima.AdEvent.Type.LOADED,window.google.ima.AdEvent.Type.LOG,window.google.ima.AdEvent.Type.STARTED,window.google.ima.AdEvent.Type.COMPLETE,window.google.ima.AdEvent.Type.IMPRESSION];return t.forEach(t=>{null==Ee||Ee.addEventListener(t,e)}),()=>{t.forEach(t=>{null==Ee||Ee.removeEventListener(t,e)})}},[Ee,x,le,G,p]),k(()=>{var e=D(e=>{q(e.getError())});return null==Ee||Ee.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,e),()=>{null==Ee||Ee.removeEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,e)}},[Ee]);var pe=Object(A.a)(a,W,m,e,t,u);return(n()("div",{style:pe},void 0,P("div",{className:(R.a.adContainer||"")+" "+((null===B?R.a.hasNoAd:R.a.hasAd)||""),ref:Object(f.a)(me,Z)}),o?null:n()(l.a,{className:C,displayIndex:ae,displayTotal:ie,secondsUntilAd:se-ue})))}},Rg7N:function(e,t,a){e.exports={adContainer:"ImaPlayer-adContainer-3TV3nf",hasAd:"ImaPlayer-hasAd-2F2ApA",hasNoAd:"ImaPlayer-hasNoAd-1hWYtJ"}}}]);